{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/nelylook/front/front_nely/app/%28auth%29/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport { useState } from \"react\";\r\nimport Header from \"@/components/Header\";\r\nimport Footer from \"@/components/Footer\";\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const sp = useSearchParams();\r\n  const nextUrl = sp.get(\"next\") || \"/\";\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPw, setShowPw] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState<string | null>(null);\r\n\r\n  async function onSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setErr(null);\r\n  \r\n    const res = await fetch(\"/api/auth/login\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n  \r\n    if (!res.ok) {\r\n      const data = await res.json().catch(() => ({}));\r\n      setErr(data?.detail || \"–ù–µ–≤–µ—Ä–Ω—ã–π e-mail –∏–ª–∏ –ø–∞—Ä–æ–ª—å.\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    \r\n    // ‚úÖ Use window.location.href instead of router.replace\r\n    // This forces a full page reload, ensuring cookies are properly set\r\n    window.location.href = nextUrl;\r\n  }\r\n  \r\n\r\n  return (\r\n    <>\r\n      <main className=\"min-h-dvh\">\r\n        {/* full-bleed wrapper to escape any max-w container from parent layout */}\r\n        <div className=\"mx-[calc(50%-50vw)] w-screen\">\r\n          <section className=\"w-full\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 items-stretch min-h-[80dvh]\">\r\n              {/* Left: full-height photo */}\r\n              <div className=\"relative min-h-[50dvh] md:min-h-[100dvh]\">\r\n                <Image\r\n                  src=\"/catalog/DSC05068.JPG\"   // must exist under /public/catalog/...\r\n                  alt=\"Nely Look ‚Äî mood\"\r\n                  fill\r\n                  sizes=\"(min-width: 768px) 50vw, 100vw\"\r\n                  className=\"object-cover object-center\"\r\n                  priority\r\n                />\r\n              </div>\r\n\r\n              {/* Right: form */}\r\n              <div className=\"w-full flex items-center justify-center px-6 md:px-12 lg:px-20 py-8 md:py-14\">\r\n                <div className=\"w-full max-w-[480px]\">\r\n                  <h1 className=\"text-2xl md:text-3xl font-semibold\">\r\n                    –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Nely Look!\r\n                  </h1>\r\n                  <p className=\"mt-1 text-sm text-neutral-600\">\r\n                    –í–æ–π–¥–∏—Ç–µ –¥–ª—è –ª—É—á—à–µ–≥–æ —à–æ–ø–ø–∏–Ω–≥–∞ –Ω–∞ Nely Look\r\n                  </p>\r\n\r\n                  <form onSubmit={onSubmit} className=\"mt-6 space-y-4\">\r\n                    <div>\r\n                      <label className=\"mb-1 block text-sm font-medium\">–í–∞—à Email</label>\r\n                      <input\r\n                        className=\"w-full rounded-lg border px-3 py-2 outline-none focus:ring-2 focus:ring-black/70\"\r\n                        type=\"email\"\r\n                        inputMode=\"email\"\r\n                        autoComplete=\"email\"\r\n                        placeholder=\"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à e-–º–µ–π–ª\"\r\n                        required\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                      />\r\n                    </div>\r\n\r\n                    <div>\r\n                      <div className=\"mb-1 flex items-center justify-between\">\r\n                        <label className=\"text-sm font-medium\">–ü–∞—Ä–æ–ª—å</label>\r\n                        <Link href=\"/forgot-password\" className=\"text-xs underline\">\r\n                          –ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?\r\n                        </Link>\r\n                      </div>\r\n                      <div className=\"relative\">\r\n                        <input\r\n                          className=\"w-full rounded-lg border px-3 py-2 pr-10 outline-none focus:ring-2 focus:ring-black/70\"\r\n                          type={showPw ? \"text\" : \"password\"}\r\n                          autoComplete=\"current-password\"\r\n                          placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                          required\r\n                          value={password}\r\n                          onChange={(e) => setPassword(e.target.value)}\r\n                        />\r\n                        <button\r\n                          type=\"button\"\r\n                          aria-label={showPw ? \"–°–∫—Ä—ã—Ç—å –ø–∞—Ä–æ–ª—å\" : \"–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å\"}\r\n                          onClick={() => setShowPw((s) => !s)}\r\n                          className=\"absolute inset-y-0 right-0 grid place-items-center px-3 text-neutral-500\"\r\n                        >\r\n                          {showPw ? \"üôà\" : \"üëÅÔ∏è\"}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {err && <p className=\"text-sm text-red-600\">{err}</p>}\r\n\r\n                    <button\r\n                      className=\"w-full rounded-lg bg-black py-2 text-white disabled:opacity-60\"\r\n                      disabled={loading}\r\n                    >\r\n                      {loading ? \"–í—Ö–æ–¥–∏–º‚Ä¶\" : \"–í–æ–π—Ç–∏\"}\r\n                    </button>\r\n                  </form>\r\n\r\n                  <p className=\"mt-6 text-center text-sm\">\r\n                    –ï—â—ë –Ω–µ—Ç –ø—Ä–æ—Ñ–∏–ª—è Nely Look?{\" \"}\r\n                    <Link href=\"/register\" className=\"font-medium underline\">\r\n                      –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è\r\n                    </Link>\r\n                  </p>\r\n\r\n                  <p className=\"mt-2 text-center text-xs\">\r\n                    <Link href=\"/send-verification\" className=\"underline\">\r\n                      –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∏—Å—å–º–æ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è\r\n                    </Link>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}