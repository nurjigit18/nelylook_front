{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///E:/nelylook/front/front_nely/components/ProductDetailPage.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/front_nely/components/ProductDetailPage.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/front_nely/components/ProductDetailPage.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,sRAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA+S,GAC5U,6EACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///E:/nelylook/front/front_nely/components/ProductDetailPage.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/front_nely/components/ProductDetailPage.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/front_nely/components/ProductDetailPage.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,sRAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA2R,GACxT,yDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///E:/nelylook/front/front_nely/app/catalog/products/%5Bid%5D/page.tsx"],"sourcesContent":["// app/catalog/products/[id]/page.tsx\r\nimport { notFound } from 'next/navigation';\r\nimport ProductDetailPage from '@/components/ProductDetailPage';\r\n\r\nconst BACKEND_URL = process.env.BACKEND_URL || 'http://127.0.0.1:8000';\r\n\r\nasync function getProduct(id: string) {\r\n  try {\r\n    console.log('üîç Fetching product:', id);\r\n    \r\n    const response = await fetch(`${BACKEND_URL}/catalog/products/${id}/`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      cache: 'no-store',\r\n    });\r\n\r\n    if (!response.ok) {\r\n      if (response.status === 404) {\r\n        return null;\r\n      }\r\n      throw new Error('Failed to fetch product');\r\n    }\r\n\r\n    const data = await response.json();\r\n    const product = data.data || data;\r\n\r\n    // Transform product data\r\n    return {\r\n      id: product.id,\r\n      name: product.name,\r\n      slug: product.slug,\r\n      base_price: product.base_price,\r\n      sale_price: product.sale_price,\r\n      description: product.description,\r\n      short_description: product.short_description,\r\n      rating: product.rating || 4.5,\r\n      category_name: product.category_name,\r\n      season_display: product.season_display,\r\n      is_featured: product.is_featured,\r\n      is_new_arrival: product.is_new_arrival,\r\n      \r\n      available_colors: (product.available_colors || []).map((color: any) => ({\r\n        id: color.id,\r\n        name: color.name,\r\n        code: color.code || '#000000',\r\n      })),\r\n      \r\n      available_sizes: (product.available_sizes || []).map((size: any) => ({\r\n        id: size.id,\r\n        name: size.name,\r\n      })),\r\n      \r\n      images: (product.images || []).map((img: any) => ({\r\n        id: img.id,\r\n        url: img.url,\r\n        alt_text: img.alt_text || product.name,\r\n        is_primary: img.is_primary,\r\n        display_order: img.display_order,\r\n        color_id: img.color?.id,\r\n      })),\r\n    };\r\n  } catch (error) {\r\n    console.error('‚ùå Error fetching product:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function getRelatedProducts(id: string) {\r\n  try {\r\n    const response = await fetch(`${BACKEND_URL}/catalog/products/${id}/related/`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      cache: 'no-store',\r\n    });\r\n\r\n    if (!response.ok) {\r\n      return [];\r\n    }\r\n\r\n    const data = await response.json();\r\n    const products = data.data || data.results || [];\r\n\r\n    return products.slice(0, 4).map((p: any) => ({\r\n      id: p.id,\r\n      href: `/catalog/products/${p.slug || p.id}`,\r\n      imageSrc: p.images?.[0]?.url || '/placeholder.jpg',\r\n      imageAlt: p.name,\r\n      title: p.name,\r\n      sizeLabel: p.available_sizes?.map((s: any) => s.name).join(' ‚Äî ') || 'M ‚Äî 2XL',\r\n      priceFormatted: `${p.sale_price || p.base_price}`,\r\n      compareAtFormatted: p.sale_price ? `${p.base_price}` : undefined,\r\n      rating: 4.5,\r\n    }));\r\n  } catch (error) {\r\n    console.error('‚ö†Ô∏è Error fetching related products:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport default async function ProductPage({ params }: { params: { id: string } }) {\r\n  const [product, relatedProducts] = await Promise.all([\r\n    getProduct(params.id),\r\n    getRelatedProducts(params.id),\r\n  ]);\r\n\r\n  if (!product) {\r\n    notFound();\r\n  }\r\n\r\n  // Get WhatsApp number from environment or use default\r\n  const whatsappNumber = process.env.NEXT_PUBLIC_WHATSAPP_NUMBER || '+996700123456';\r\n\r\n  return (\r\n    <ProductDetailPage\r\n      product={product}\r\n      relatedProducts={relatedProducts}\r\n      whatsappNumber={whatsappNumber}\r\n    />\r\n  );\r\n}\r\n\r\n// Generate metadata for SEO\r\nexport async function generateMetadata({ params }: { params: { id: string } }) {\r\n  const product = await getProduct(params.id);\r\n\r\n  if (!product) {\r\n    return {\r\n      title: '–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω - Nely Look',\r\n    };\r\n  }\r\n\r\n  return {\r\n    title: `${product.name} - Nely Look`,\r\n    description: product.short_description || product.description || `–ö—É–ø–∏—Ç—å ${product.name} –≤ Nely Look`,\r\n    openGraph: {\r\n      title: product.name,\r\n      description: product.short_description || product.description,\r\n      images: product.images[0]?.url ? [product.images[0].url] : [],\r\n    },\r\n  };\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}