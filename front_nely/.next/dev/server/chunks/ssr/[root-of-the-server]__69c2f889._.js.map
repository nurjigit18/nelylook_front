{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///E:/nelylook/front/front_nely/components/ProductCard.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/front_nely/components/ProductCard.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/front_nely/components/ProductCard.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,sRAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyS,GACtU,uEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///E:/nelylook/front/front_nely/components/ProductCard.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/front_nely/components/ProductCard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/front_nely/components/ProductCard.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,sRAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqR,GAClT,mDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///E:/nelylook/front/front_nely/app/catalog/products/page.tsx"],"sourcesContent":["// app/catalog/page.tsx\r\nimport ProductCard from '@/components/ProductCard';\r\n\r\nconst BACKEND_URL = process.env.BACKEND_URL || 'http://127.0.0.1:8000';\r\n\r\ntype Product = {\r\n  id: number;\r\n  name: string;\r\n  slug: string;\r\n  base_price: string;\r\n  sale_price: string | null;\r\n  category_name: string;\r\n  clothing_type_name?: string;\r\n  images?: Array<{\r\n    id: number;\r\n    url: string;\r\n    alt_text: string;\r\n    is_primary: boolean;\r\n  }>;\r\n};\r\n\r\nasync function getProducts(): Promise<Product[]> {\r\n  try {\r\n    const res = await fetch(`${BACKEND_URL}/catalog/products/`, {\r\n      cache: 'no-store',\r\n    });\r\n\r\n    if (!res.ok) {\r\n      console.error('Failed to fetch products:', res.status);\r\n      return [];\r\n    }\r\n\r\n    const data = await res.json();\r\n    return data.data || [];\r\n  } catch (error) {\r\n    console.error('Error fetching products:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport default async function CatalogPage() {\r\n  const products = await getProducts();\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-white\">\r\n      <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-semibold tracking-tight\">Каталог</h1>\r\n          <p className=\"mt-2 text-sm text-neutral-600\">\r\n            Все товары Nely Look\r\n          </p>\r\n        </div>\r\n\r\n        {/* Products Grid */}\r\n        {products.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <p className=\"text-neutral-500\">Товары не найдены</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4\">\r\n            {products.map((product) => {\r\n              // Get primary image or first image\r\n              const primaryImage = product.images?.find((img) => img.is_primary);\r\n              const image = primaryImage || product.images?.[0];\r\n\r\n              // Format prices\r\n              const basePrice = parseFloat(product.base_price);\r\n              const salePrice = product.sale_price\r\n                ? parseFloat(product.sale_price)\r\n                : null;\r\n\r\n              const priceFormatted = salePrice\r\n                ? `${salePrice.toFixed(0)} сом`\r\n                : `${basePrice.toFixed(0)} сом`;\r\n\r\n              const compareAtFormatted =\r\n                salePrice && salePrice < basePrice\r\n                  ? `${basePrice.toFixed(0)} сом`\r\n                  : undefined;\r\n\r\n              return (\r\n                <ProductCard\r\n                  key={product.id}\r\n                  href={`/product/${product.slug}`}\r\n                  imageSrc={image?.url || '/placeholder-product.jpg'}\r\n                  imageAlt={image?.alt_text || product.name}\r\n                  title={product.name}\r\n                  priceFormatted={priceFormatted}\r\n                  compareAtFormatted={compareAtFormatted}\r\n                  className=\"w-full\"\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,uBAAuB;;;;;;AACvB;;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW,IAAI;AAkB/C,eAAe;IACb,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,GAAG,YAAY,kBAAkB,CAAC,EAAE;YAC1D,OAAO;QACT;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,QAAQ,KAAK,CAAC,6BAA6B,IAAI,MAAM;YACrD,OAAO,EAAE;QACX;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,KAAK,IAAI,IAAI,EAAE;IACxB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,EAAE;IACX;AACF;AAEe,eAAe;IAC5B,MAAM,WAAW,MAAM;IAEvB,qBACE,4PAAC;QAAK,WAAU;kBACd,cAAA,4PAAC;YAAI,WAAU;;8BAEb,4PAAC;oBAAI,WAAU;;sCACb,4PAAC;4BAAG,WAAU;sCAAwC;;;;;;sCACtD,4PAAC;4BAAE,WAAU;sCAAgC;;;;;;;;;;;;gBAM9C,SAAS,MAAM,KAAK,kBACnB,4PAAC;oBAAI,WAAU;8BACb,cAAA,4PAAC;wBAAE,WAAU;kCAAmB;;;;;;;;;;yCAGlC,4PAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC;wBACb,mCAAmC;wBACnC,MAAM,eAAe,QAAQ,MAAM,EAAE,KAAK,CAAC,MAAQ,IAAI,UAAU;wBACjE,MAAM,QAAQ,gBAAgB,QAAQ,MAAM,EAAE,CAAC,EAAE;wBAEjD,gBAAgB;wBAChB,MAAM,YAAY,WAAW,QAAQ,UAAU;wBAC/C,MAAM,YAAY,QAAQ,UAAU,GAChC,WAAW,QAAQ,UAAU,IAC7B;wBAEJ,MAAM,iBAAiB,YACnB,GAAG,UAAU,OAAO,CAAC,GAAG,IAAI,CAAC,GAC7B,GAAG,UAAU,OAAO,CAAC,GAAG,IAAI,CAAC;wBAEjC,MAAM,qBACJ,aAAa,YAAY,YACrB,GAAG,UAAU,OAAO,CAAC,GAAG,IAAI,CAAC,GAC7B;wBAEN,qBACE,4PAAC,mJAAW;4BAEV,MAAM,CAAC,SAAS,EAAE,QAAQ,IAAI,EAAE;4BAChC,UAAU,OAAO,OAAO;4BACxB,UAAU,OAAO,YAAY,QAAQ,IAAI;4BACzC,OAAO,QAAQ,IAAI;4BACnB,gBAAgB;4BAChB,oBAAoB;4BACpB,WAAU;2BAPL,QAAQ,EAAE;;;;;oBAUrB;;;;;;;;;;;;;;;;;AAMZ","debugId":null}}]
}