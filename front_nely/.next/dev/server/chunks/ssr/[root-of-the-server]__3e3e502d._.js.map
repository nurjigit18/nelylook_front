{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///E:/nelylook/front/front_nely/app/%28auth%29/account/ClientEditableCard.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/front_nely/app/(auth)/account/ClientEditableCard.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/front_nely/app/(auth)/account/ClientEditableCard.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,sRAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwT,GACrV,sFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///E:/nelylook/front/front_nely/app/%28auth%29/account/ClientEditableCard.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/front_nely/app/(auth)/account/ClientEditableCard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/front_nely/app/(auth)/account/ClientEditableCard.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,sRAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///E:/nelylook/front/front_nely/app/%28auth%29/account/LogoutButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/front_nely/app/(auth)/account/LogoutButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/front_nely/app/(auth)/account/LogoutButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,sRAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkT,GAC/U,gFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///E:/nelylook/front/front_nely/app/%28auth%29/account/LogoutButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/front_nely/app/(auth)/account/LogoutButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/front_nely/app/(auth)/account/LogoutButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,sRAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA8R,GAC3T,4DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///E:/nelylook/front/front_nely/app/%28auth%29/account/page.tsx"],"sourcesContent":["// app/account/page.tsx\r\nimport { redirect } from 'next/navigation';\r\nimport { cookies } from 'next/headers';\r\nimport ClientEditableCard from './ClientEditableCard';\r\nimport LogoutButton from './LogoutButton';\r\n\r\ntype UserMe = {\r\n  id: number | string;\r\n  email: string;\r\n  first_name?: string | null;\r\n  last_name?: string | null;\r\n  phone?: string | null;\r\n  address?: string | null;\r\n};\r\n\r\nconst BACKEND_URL = process.env.BACKEND_URL || 'http://127.0.0.1:8000';\r\n\r\n// Fetch current user directly from server with cookies\r\nasync function getMe(): Promise<UserMe | null> {\r\n  try {\r\n    const cookieStore = await cookies();\r\n    const accessToken = cookieStore.get('access_token')?.value;\r\n\r\n    if (!accessToken) {\r\n      return null;\r\n    }\r\n\r\n    const res = await fetch(`${BACKEND_URL}/auth/me/`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${accessToken}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      cache: 'no-store',\r\n    });\r\n\r\n    if (!res.ok) {\r\n      return null;\r\n    }\r\n\r\n    const data = await res.json();\r\n    return data as UserMe;\r\n  } catch (error) {\r\n    console.error('Error fetching user:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default async function AccountPage() {\r\n  const me = await getMe();\r\n  \r\n  if (!me) {\r\n    redirect('/login?next=%2Faccount');\r\n  }\r\n\r\n  return (\r\n    <main className=\"mx-auto w-full max-w-6xl px-4 py-10\">\r\n      <div className=\"grid grid-cols-1 gap-8 md:grid-cols-[220px_1fr]\">\r\n        {/* Sidebar */}\r\n        <aside className=\"space-y-6\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-semibold tracking-tight\">\r\n              Добро пожаловать, {me.first_name || 'Пользователь'}\r\n            </h1>\r\n          </div>\r\n\r\n          <nav className=\"text-sm\">\r\n            <ul className=\"space-y-3\">\r\n              <li>\r\n                <span className=\"cursor-default text-black underline\">\r\n                  Личная информация\r\n                </span>\r\n              </li>\r\n              <li className=\"text-neutral-500 hover:text-black\">\r\n                <a href=\"/account/orders\">История заказов</a>\r\n              </li>\r\n              <li className=\"text-neutral-500 hover:text-black\">\r\n                <a href=\"/account/change-password\">Сменить пароль</a>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n\r\n          <div className=\"pt-4\">\r\n            <LogoutButton />\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Content */}\r\n        <section className=\"rounded border border-neutral-300\">\r\n          <div className=\"p-6\">\r\n            <h2 className=\"text-sm font-semibold uppercase tracking-wide\">\r\n              Личная информация\r\n            </h2>\r\n\r\n            <ClientEditableCard me={me} />\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,uBAAuB;;;;;;AACvB;AAAA;AACA;AACA;AACA;;;;;;AAWA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW,IAAI;AAE/C,uDAAuD;AACvD,eAAe;IACb,IAAI;QACF,MAAM,cAAc,MAAM,IAAA,wJAAO;QACjC,MAAM,cAAc,YAAY,GAAG,CAAC,iBAAiB;QAErD,IAAI,CAAC,aAAa;YAChB,OAAO;QACT;QAEA,MAAM,MAAM,MAAM,MAAM,GAAG,YAAY,SAAS,CAAC,EAAE;YACjD,QAAQ;YACR,SAAS;gBACP,iBAAiB,CAAC,OAAO,EAAE,aAAa;gBACxC,gBAAgB;YAClB;YACA,OAAO;QACT;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,OAAO;QACT;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO;IACT;AACF;AAEe,eAAe;IAC5B,MAAM,KAAK,MAAM;IAEjB,IAAI,CAAC,IAAI;QACP,IAAA,+MAAQ,EAAC;IACX;IAEA,qBACE,4PAAC;QAAK,WAAU;kBACd,cAAA,4PAAC;YAAI,WAAU;;8BAEb,4PAAC;oBAAM,WAAU;;sCACf,4PAAC;sCACC,cAAA,4PAAC;gCAAG,WAAU;;oCAAwC;oCACjC,GAAG,UAAU,IAAI;;;;;;;;;;;;sCAIxC,4PAAC;4BAAI,WAAU;sCACb,cAAA,4PAAC;gCAAG,WAAU;;kDACZ,4PAAC;kDACC,cAAA,4PAAC;4CAAK,WAAU;sDAAsC;;;;;;;;;;;kDAIxD,4PAAC;wCAAG,WAAU;kDACZ,cAAA,4PAAC;4CAAE,MAAK;sDAAkB;;;;;;;;;;;kDAE5B,4PAAC;wCAAG,WAAU;kDACZ,cAAA,4PAAC;4CAAE,MAAK;sDAA2B;;;;;;;;;;;;;;;;;;;;;;sCAKzC,4PAAC;4BAAI,WAAU;sCACb,cAAA,4PAAC,oKAAY;;;;;;;;;;;;;;;;8BAKjB,4PAAC;oBAAQ,WAAU;8BACjB,cAAA,4PAAC;wBAAI,WAAU;;0CACb,4PAAC;gCAAG,WAAU;0CAAgD;;;;;;0CAI9D,4PAAC,0KAAkB;gCAAC,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMpC","debugId":null}}]
}